{"remainingRequest":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/c5281434/Documents/Project/yshopmall_qd-master/src/views/wechat/config/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/src/views/wechat/config/index.vue","mtime":1590767910000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport checkPermission from '@/utils/permission'\nimport initData from '@/mixins/crud'\nimport { del, add, get } from '@/api/yxSystemConfig'\nimport eForm from './form'\nimport picUpload from '@/components/pic-upload'\nimport { Message } from 'element-ui'\nimport MaterialList from '@/components/material'\nexport default {\n  components: { eForm, picUpload, MaterialList },\n  mixins: [initData],\n  data() {\n    return {\n      delLoading: false,\n      form: {\n        wechat_name: '',\n        wechat_id: '',\n        wechat_sourceid: '',\n        wechat_appid: '',\n        wechat_appsecret: '',\n        wechat_token: '',\n        wechat_encode: '',\n        wechat_encodingaeskey: '',\n        wechat_share_img: '',\n        imageArr: [],\n        wechat_qrcode: '',\n        wechat_type: '',\n        wechat_share_title: '',\n        wechat_share_synopsis: '',\n        api: 'http://你的H5端域名/api/wechat/serve',\n        wechat_avatar: ''\n      },\n      rules: {\n      }\n    }\n  },\n  watch: {\n    'form.imageArr': function(val) {\n      if (val) {\n        this.form.wechat_share_img = val.join(',')\n      }\n    }\n  },\n  created() {\n    get().then(rese => {\n      const that = this\n      rese.content.map(function(key, value) {\n        const keyName = key.menuName\n        const newValue = key.value\n        if(keyName in that.form){\n          that.form[keyName] = newValue\n        }\n      })\n\n      this.form.imageArr = this.form.wechat_share_img.split(',')\n    })\n  },\n  methods: {\n    checkPermission,\n    doSubmit() {\n      add(this.form).then(res => {\n        Message({ message: '设置成功', type: 'success' })\n      }).catch(err => {\n        // this.loading = false\n        console.log(err.response.data.message)\n      })\n    }\n\n  }\n}\n",null]}