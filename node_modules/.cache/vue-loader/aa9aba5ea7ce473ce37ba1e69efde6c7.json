{"remainingRequest":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/c5281434/Documents/Project/yshopmall_qd-master/src/views/components/Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/src/views/components/Editor.vue","mtime":1590767910000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport E from 'wangeditor'\nimport { getToken } from '@/utils/auth'\nexport default {\n  name: 'Editor',\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  props: {\n    value: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      headers: {\n        'Authorization': getToken()\n      },\n      info: null,\n      editor: null\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'uploadApi'\n    ])\n  },\n  watch: {\n    value: function(val) {\n      this.editor.txt.html(val)\n      // this.editor.txt.html(val)\n    }\n  },\n  mounted() {\n    // console.log(222)\n    console.log(this.value)\n    this.editor = new E(this.$refs.editor)\n    this.editor.customConfig.uploadImgShowBase64 = true // 使用 base64 保存图片\n    // 不可修改\n    this.editor.customConfig.uploadImgHeaders = this.headers\n    // 自定义文件名，不可修改，修改后会上传失败\n    this.editor.customConfig.uploadFileName = 'file'\n    this.editor.customConfig.uploadImgServer = this.uploadApi // 上传图片到服务器\n    this.editor.customConfig.uploadImgHooks = {\n      customInsert: function(insertImg, result, editor) {\n        var url = result.link\n        insertImg(url)\n      }\n    }\n    this.editor.customConfig.onchange = (html) => {\n      this.info = html\n      this.$emit('change', this.info)\n      this.$emit('input', this.info)\n    }\n    this.editor.create()\n    this.editor.txt.html(this.value)\n  }\n}\n",null]}