{"remainingRequest":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/c5281434/Documents/Project/yshopmall_qd-master/src/components/mul-pic-upload/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/src/components/mul-pic-upload/index.vue","mtime":1590767910000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/c5281434/Documents/Project/yshopmall_qd-master/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getToken } from '@/utils/auth'\nimport { mapGetters } from 'vuex'\nexport default {\n  props: {\n    value: {\n      default: '',\n      type: String\n    }\n  },\n  data() {\n    return {\n      dialogImageUrl: '',\n      dialogVisible: false,\n      resourcesUrl: '',\n      headers: {\n        'Authorization': getToken()\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'qiNiuUploadApi'\n    ]),\n    imageList() {\n      const res = []\n      if (this.value) {\n        const imageArray = this.value.split(',')\n        for (let i = 0; i < imageArray.length; i++) {\n          res.push({ url: this.resourcesUrl + imageArray[i], response: imageArray[i] })\n        }\n      }\n      this.$emit('input', this.value)\n      return res\n    }\n  },\n  methods: {\n    // 图片上传\n    handleUploadSuccess(response, file, fileList) {\n      console.log(file)\n      console.log(fileList)\n      const pics = fileList.map(file => {\n        if ((typeof file.response) === 'object') {\n          return file.response.data[0]\n        } else {\n          return file.response\n        }\n      }).join(',')\n      console.log(pics)\n      this.$emit('input', pics)\n    },\n    // 限制图片上传大小\n    beforeAvatarUpload(file) {\n      const isLt2M = file.size / 1024 / 1024 < 2\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n      }\n      return isLt2M\n    },\n    handleRemove(file, fileList) {\n      const pics = fileList.map(file => {\n        return file.response\n      }).join(',')\n      this.$emit('input', pics)\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url\n      this.dialogVisible = true\n    }\n  }\n}\n",null]}